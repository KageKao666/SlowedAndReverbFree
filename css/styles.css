:root {
    --bg-color: #000000;
    --text-color: #ffffff;
    --text-color-secondary: rgba(235, 235, 245, 0.6);
    --primary-color: #007aff;
    --primary-hover-color: #0a84ff;
    --donate-color: #e5484d;
    --glass-bg: rgba(28, 28, 30, 0.7);
    --glass-border: rgba(84, 84, 88, 0.65);
    --input-bg: rgba(58, 58, 60, 0.8);
    --input-border: rgba(84, 84, 88, 0.65);
    --input-placeholder: rgba(235, 235, 245, 0.3);
    --highlight-bg: rgba(0, 122, 255, 0.2);
    --success-color: #32d74b;
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --border-radius: 18px;
    --border-radius-inner: 12px;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; }
body {
    font-family: var(--font-family); background-color: var(--bg-color); color: var(--text-color);
    -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 1.5rem;
}
.container { width: 100%; max-width: 950px; }
.glass-panel {
    background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: var(--border-radius);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3); backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%); display: flex; flex-direction: column;
}
.panel-header {
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    padding: 2rem; border-bottom: 1px solid var(--glass-border);
}
.title { font-size: 1.75rem; font-weight: 700; letter-spacing: -0.5px; }
.subtitle { font-size: 1rem; color: var(--text-color-secondary); margin-top: 0.25rem; text-align: center; }
.panel-content { padding: 2rem; }
.hidden { display: none !important; }
.drop-zone {
    border: 2px dashed var(--glass-border); border-radius: var(--border-radius-inner);
    padding: 2.5rem; text-align: center; cursor: pointer; background-color: rgba(0,0,0,0.1);
    transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.drop-zone:hover { border-color: var(--primary-color); background-color: var(--highlight-bg); }
.drop-zone-icon svg { width: 48px; height: 48px; color: var(--text-color-secondary); margin-bottom: 1rem; }
.drop-zone-text { font-size: 1.1rem; font-weight: 500; }
.text-highlight { color: var(--primary-color); font-weight: 600; }
.drop-zone-subtext { font-size: 0.9rem; color: var(--text-color-secondary); margin-top: 0.25rem; }
.editor-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; }
@media (min-width: 768px) { .editor-grid { grid-template-columns: 1fr 1fr; gap: 2.5rem; } }
.group-title {
    font-size: 1rem; font-weight: 600; margin-bottom: 1rem; padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--glass-border); color: var(--text-color-secondary);
}
.file-name { font-weight: 500; text-align: center; margin-bottom: 1.5rem; background: var(--input-bg); padding: 0.75rem; border-radius: var(--border-radius-inner); }
.player { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }
.play-btn { background: none; border: none; color: var(--text-color); cursor: pointer; padding: 0; line-height: 1; display: flex; }
.play-btn svg { width: 32px; height: 32px; }
.progress-container { flex-grow: 1; }
.time-display { font-size: 0.8rem; text-align: right; color: var(--text-color-secondary); margin-top: 0.25rem; }
.metadata-group input {
    width: 100%; padding: 0.75rem; background-color: var(--input-bg); border: 1px solid transparent;
    border-radius: var(--border-radius-inner); color: var(--text-color); font-family: var(--font-family);
    margin-bottom: 0.75rem; transition: all 0.2s;
}
.metadata-group input:focus { border-color: var(--primary-color); background-color: #000; outline: none; }
.metadata-group input::placeholder { color: var(--input-placeholder); }
.cover-art-group { display: flex; align-items: center; gap: 1rem; }
.cover-art-label {
    flex-grow: 1; display: block; width: 100%; text-align: center; cursor: pointer; padding: 0.75rem;
    background-color: var(--input-bg); border-radius: var(--border-radius-inner);
    border: 1px solid transparent; font-weight: 500; transition: all 0.2s;
}
.cover-art-label:hover { border-color: var(--primary-color); color: var(--primary-color); }
.cover-preview { width: 48px; height: 48px; border-radius: 8px; object-fit: cover; border: 1px solid var(--glass-border); }
.effects-header { display: flex; justify-content: space-between; align-items: center; }
.reset-btn { background: none; border: none; color: var(--text-color-secondary); cursor: pointer; padding: 0.25rem; }
.reset-btn svg { width: 20px; height: 20px; transition: transform 0.3s; }
.reset-btn:hover svg { color: var(--text-color); transform: rotate(-90deg); }
.presets { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-bottom: 1.5rem; }
.presets button {
    padding: 0.6rem; border: 1px solid var(--input-border); background-color: var(--input-bg);
    color: var(--text-color-secondary); border-radius: var(--border-radius-inner); cursor: pointer;
    font-weight: 500; transition: all 0.2s; white-space: nowrap;
}
.presets button:hover { border-color: var(--primary-color); color: var(--text-color); }
.controls-grid { display: grid; gap: 1rem; }
.control-group label {
    display: flex; justify-content: space-between; margin-bottom: 0.5rem;
    font-weight: 500; font-size: 0.9rem; color: var(--text-color-secondary);
}
.control-group span { color: var(--text-color); }
.actions-footer {
    margin-top: 2.5rem; border-top: 1px solid var(--glass-border); padding-top: 2rem;
    display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: 1.5rem;
}
.export-options { flex-grow: 1; }
.export-title { font-size: 0.9rem; color: var(--text-color-secondary); margin-bottom: 0.75rem; }
.checkbox-group { display: flex; flex-direction: column; gap: 0.75rem; }
.checkbox-label { display: flex; align-items: center; gap: 0.5rem; cursor: pointer; font-weight: 500; font-size: 0.9rem;}
.checkbox-input { accent-color: var(--primary-color); width: 16px; height: 16px; }
.action-buttons { display: flex; gap: 1rem; flex-grow: 1; min-width: 250px; }
.action-btn {
    flex-grow: 1; padding: 0.9rem 1rem; border: none; border-radius: var(--border-radius-inner);
    cursor: pointer; font-weight: 600; font-size: 1rem; transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.primary-btn { background-color: var(--primary-color); color: var(--text-color); }
.primary-btn:hover:not(:disabled) { background-color: var(--primary-hover-color); transform: translateY(-2px); }
.secondary-btn { background-color: var(--input-bg); color: var(--text-color-secondary); }
.secondary-btn:hover { background-color: #333; color: var(--text-color); }
button:disabled { opacity: 0.5; cursor: not-allowed; }
.progress-bar-container { margin-top: 1.5rem; }
.progress-bar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
.progress-bar-text { text-align: left; color: var(--text-color-secondary); font-size: 0.9rem; }
.progress-bar-timer { font-size: 0.9rem; font-weight: 500; color: var(--text-color); }
.progress-bar { width: 100%; height: 8px; background-color: var(--input-bg); border-radius: 4px; overflow: hidden; border: 1px solid var(--glass-border); }
.progress-bar-fill { width: 0%; height: 100%; background-color: var(--success-color); transition: width 0.3s ease; }
.panel-footer {
    padding: 1rem 2rem; border-top: 1px solid var(--glass-border); text-align: center;
}
.donate-link {
    color: var(--text-color-secondary); text-decoration: none; font-size: 0.9rem; font-weight: 500;
    transition: color 0.2s ease; animation: rainbow-glow 5s linear infinite;
}
.donate-link:hover { color: var(--text-color); }
@keyframes rainbow-glow {
    0%   { color: #ff0000; } 15%  { color: #ff7f00; } 30%  { color: #ffff00; }
    45%  { color: #00ff00; } 60%  { color: #0000ff; } 75%  { color: #4b0082; }
    90%  { color: #8f00ff; } 100% { color: #ff0000; }
}
input[type=range]{-webkit-appearance:none;width:100%;background:transparent}
input[type=range]:focus{outline:0}
input[type=range]::-webkit-slider-runnable-track{width:100%;height:6px;cursor:pointer;background:var(--input-bg);border-radius:3px;border:1px solid var(--input-border)}
input[type=range]::-webkit-slider-thumb{border:none;height:18px;width:18px;border-radius:50%;background:var(--text-color);cursor:pointer;-webkit-appearance:none;margin-top:-7px;box-shadow:0 0 10px rgba(0,0,0,0.5);transition:transform .2s}
input[type=range]:focus::-webkit-slider-thumb, input[type=range]:hover::-webkit-slider-thumb { background-color: var(--primary-color); transform: scale(1.1); }